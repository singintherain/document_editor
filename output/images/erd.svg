<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.26.3 (20100126.1600)
 -->
<!-- Title: ScoreService Pages: 1 -->
<svg width="568pt" height="418pt"
 viewBox="0.00 0.00 567.60 417.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(28.8 388.8)">
<title>ScoreService</title>
<polygon fill="white" stroke="white" points="-28.8,29.8 -28.8,-388.8 539.8,-388.8 539.8,29.8 -28.8,29.8"/>
<text text-anchor="middle" x="255" y="-344.3" font-family="Arial Bold" font-size="13.00">ScoreService domain model</text>
<!-- m_ScoreAccount -->
<g id="node1" class="node"><title>m_ScoreAccount</title>
<polyline fill="none" stroke="black" points="194.5,-181.5 315.5,-181.5 "/>
<path fill="none" stroke="black" d="M315.5,-181.5C321.5,-181.5 327.5,-187.5 327.5,-193.5"/>
<polyline fill="none" stroke="black" points="327.5,-193.5 327.5,-308.5 "/>
<path fill="none" stroke="black" d="M327.5,-308.5C327.5,-314.5 321.5,-320.5 315.5,-320.5"/>
<polyline fill="none" stroke="black" points="315.5,-320.5 194.5,-320.5 "/>
<path fill="none" stroke="black" d="M194.5,-320.5C188.5,-320.5 182.5,-314.5 182.5,-308.5"/>
<polyline fill="none" stroke="black" points="182.5,-308.5 182.5,-193.5 "/>
<path fill="none" stroke="black" d="M182.5,-193.5C182.5,-187.5 188.5,-181.5 194.5,-181.5"/>
<text text-anchor="start" x="216" y="-307.433" font-family="Arial Bold" font-size="11.00">ScoreAccount</text>
<polyline fill="none" stroke="black" points="182.5,-300.5 327.5,-300.5 "/>
<text text-anchor="start" x="190" y="-286.167" font-family="Arial" font-size="10.00">begin_time </text>
<text text-anchor="start" x="241" y="-286.167" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime ∗</text>
<text text-anchor="start" x="190" y="-273.667" font-family="Arial" font-size="10.00">created_at </text>
<text text-anchor="start" x="239" y="-273.667" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime</text>
<text text-anchor="start" x="190" y="-261.667" font-family="Arial" font-size="10.00">end_time </text>
<text text-anchor="start" x="233" y="-261.667" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime ∗</text>
<text text-anchor="start" x="190" y="-249.667" font-family="Arial" font-size="10.00">expire_time </text>
<text text-anchor="start" x="244" y="-249.667" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime ∗</text>
<text text-anchor="start" x="190" y="-237.667" font-family="Arial" font-size="10.00">id </text>
<text text-anchor="start" x="201" y="-237.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-225.667" font-family="Arial" font-size="10.00">income </text>
<text text-anchor="start" x="225" y="-225.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-213.667" font-family="Arial" font-size="10.00">score </text>
<text text-anchor="start" x="218" y="-213.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-201.667" font-family="Arial" font-size="10.00">updated_at </text>
<text text-anchor="start" x="242" y="-201.667" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime</text>
<text text-anchor="start" x="190" y="-189.667" font-family="Arial" font-size="10.00">user_id </text>
<text text-anchor="start" x="225" y="-189.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
</g>
<!-- m_ScoreChangeDetail -->
<g id="node2" class="node"><title>m_ScoreChangeDetail</title>
<polyline fill="none" stroke="black" points="376.5,-181.5 497.5,-181.5 "/>
<path fill="none" stroke="black" d="M497.5,-181.5C503.5,-181.5 509.5,-187.5 509.5,-193.5"/>
<polyline fill="none" stroke="black" points="509.5,-193.5 509.5,-260.5 "/>
<path fill="none" stroke="black" d="M509.5,-260.5C509.5,-266.5 503.5,-272.5 497.5,-272.5"/>
<polyline fill="none" stroke="black" points="497.5,-272.5 376.5,-272.5 "/>
<path fill="none" stroke="black" d="M376.5,-272.5C370.5,-272.5 364.5,-266.5 364.5,-260.5"/>
<polyline fill="none" stroke="black" points="364.5,-260.5 364.5,-193.5 "/>
<path fill="none" stroke="black" d="M364.5,-193.5C364.5,-187.5 370.5,-181.5 376.5,-181.5"/>
<text text-anchor="start" x="383.5" y="-259.433" font-family="Arial Bold" font-size="11.00">ScoreChangeDetail</text>
<polyline fill="none" stroke="black" points="364.5,-252.5 509.5,-252.5 "/>
<text text-anchor="start" x="372" y="-238.167" font-family="Arial" font-size="10.00">id </text>
<text text-anchor="start" x="383" y="-238.167" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="372" y="-225.667" font-family="Arial" font-size="10.00">score </text>
<text text-anchor="start" x="400" y="-225.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer</text>
<text text-anchor="start" x="372" y="-213.667" font-family="Arial" font-size="10.00">score_account_id </text>
<text text-anchor="start" x="452" y="-213.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer</text>
<text text-anchor="start" x="372" y="-201.667" font-family="Arial" font-size="10.00">score_history_id </text>
<text text-anchor="start" x="447" y="-201.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer</text>
<text text-anchor="start" x="372" y="-189.667" font-family="Arial" font-size="10.00">user_id </text>
<text text-anchor="start" x="407" y="-189.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer</text>
</g>
<!-- m_ScoreAccount&#45;&gt;m_ScoreChangeDetail -->
<g id="edge2" class="edge"><title>m_ScoreAccount&#45;&gt;m_ScoreChangeDetail</title>
<path fill="none" stroke="black" d="M332.55,-240.774C339.483,-239.859 346.523,-238.931 353.503,-238.011"/>
<ellipse fill="none" stroke="black" cx="330.095" cy="-241.097" rx="2.40001" ry="2.40001"/>
<ellipse fill="none" stroke="black" cx="362.02" cy="-236.887" rx="2.4" ry="2.4"/>
<polygon fill="black" stroke="black" points="353.967,-240.068 359.641,-237.201 353.418,-235.904 353.967,-240.068"/>
</g>
<!-- m_ScoreHistory -->
<g id="node3" class="node"><title>m_ScoreHistory</title>
<polyline fill="none" stroke="black" points="194.5,-12.5 315.5,-12.5 "/>
<path fill="none" stroke="black" d="M315.5,-12.5C321.5,-12.5 327.5,-18.5 327.5,-24.5"/>
<polyline fill="none" stroke="black" points="327.5,-24.5 327.5,-139.5 "/>
<path fill="none" stroke="black" d="M327.5,-139.5C327.5,-145.5 321.5,-151.5 315.5,-151.5"/>
<polyline fill="none" stroke="black" points="315.5,-151.5 194.5,-151.5 "/>
<path fill="none" stroke="black" d="M194.5,-151.5C188.5,-151.5 182.5,-145.5 182.5,-139.5"/>
<polyline fill="none" stroke="black" points="182.5,-139.5 182.5,-24.5 "/>
<path fill="none" stroke="black" d="M182.5,-24.5C182.5,-18.5 188.5,-12.5 194.5,-12.5"/>
<text text-anchor="start" x="218.5" y="-138.433" font-family="Arial Bold" font-size="11.00">ScoreHistory</text>
<polyline fill="none" stroke="black" points="182.5,-131.5 327.5,-131.5 "/>
<text text-anchor="start" x="190" y="-117.167" font-family="Arial" font-size="10.00">create_time </text>
<text text-anchor="start" x="245" y="-117.167" font-family="Arial Italic" font-size="10.00" fill="#999999">datetime</text>
<text text-anchor="start" x="190" y="-104.667" font-family="Arial" font-size="10.00">description </text>
<text text-anchor="start" x="241" y="-104.667" font-family="Arial Italic" font-size="10.00" fill="#999999">text</text>
<text text-anchor="start" x="190" y="-92.6667" font-family="Arial" font-size="10.00">entry_id </text>
<text text-anchor="start" x="228" y="-92.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-80.6667" font-family="Arial" font-size="10.00">entry_klass </text>
<text text-anchor="start" x="244" y="-80.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">string (36) ∗</text>
<text text-anchor="start" x="190" y="-68.6667" font-family="Arial" font-size="10.00">id </text>
<text text-anchor="start" x="201" y="-68.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-56.6667" font-family="Arial" font-size="10.00">operation_name </text>
<text text-anchor="start" x="263" y="-56.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">string ∗</text>
<text text-anchor="start" x="190" y="-44.6667" font-family="Arial" font-size="10.00">score </text>
<text text-anchor="start" x="218" y="-44.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer (2) ∗</text>
<text text-anchor="start" x="190" y="-32.6667" font-family="Arial" font-size="10.00">score_rule_id </text>
<text text-anchor="start" x="251" y="-32.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="190" y="-20.6667" font-family="Arial" font-size="10.00">user_id </text>
<text text-anchor="start" x="225" y="-20.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
</g>
<!-- m_ScoreHistory&#45;&gt;m_ScoreChangeDetail -->
<g id="edge4" class="edge"><title>m_ScoreHistory&#45;&gt;m_ScoreChangeDetail</title>
<path fill="none" stroke="black" d="M331.793,-143.181C344.867,-153.597 358.342,-164.333 371.103,-174.5"/>
<ellipse fill="none" stroke="black" cx="329.593" cy="-141.428" rx="2.40002" ry="2.40002"/>
<ellipse fill="none" stroke="black" cx="377.933" cy="-179.941" rx="2.40001" ry="2.40001"/>
<polygon fill="black" stroke="black" points="370.054,-176.349 376.055,-178.445 372.671,-173.064 370.054,-176.349"/>
</g>
<!-- m_ScoreHistoryExt -->
<g id="node4" class="node"><title>m_ScoreHistoryExt</title>
<polyline fill="none" stroke="black" points="376.5,-36.5 497.5,-36.5 "/>
<path fill="none" stroke="black" d="M497.5,-36.5C503.5,-36.5 509.5,-42.5 509.5,-48.5"/>
<polyline fill="none" stroke="black" points="509.5,-48.5 509.5,-115.5 "/>
<path fill="none" stroke="black" d="M509.5,-115.5C509.5,-121.5 503.5,-127.5 497.5,-127.5"/>
<polyline fill="none" stroke="black" points="497.5,-127.5 376.5,-127.5 "/>
<path fill="none" stroke="black" d="M376.5,-127.5C370.5,-127.5 364.5,-121.5 364.5,-115.5"/>
<polyline fill="none" stroke="black" points="364.5,-115.5 364.5,-48.5 "/>
<path fill="none" stroke="black" d="M364.5,-48.5C364.5,-42.5 370.5,-36.5 376.5,-36.5"/>
<text text-anchor="start" x="391.5" y="-114.433" font-family="Arial Bold" font-size="11.00">ScoreHistoryExt</text>
<polyline fill="none" stroke="black" points="364.5,-107.5 509.5,-107.5 "/>
<text text-anchor="start" x="372" y="-93.1667" font-family="Arial" font-size="10.00">channel </text>
<text text-anchor="start" x="409" y="-93.1667" font-family="Arial Italic" font-size="10.00" fill="#999999">string ∗</text>
<text text-anchor="start" x="372" y="-80.6667" font-family="Arial" font-size="10.00">current_score </text>
<text text-anchor="start" x="435" y="-80.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="372" y="-68.6667" font-family="Arial" font-size="10.00">id </text>
<text text-anchor="start" x="383" y="-68.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="372" y="-56.6667" font-family="Arial" font-size="10.00">ip </text>
<text text-anchor="start" x="383" y="-56.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer (8) ∗</text>
<text text-anchor="start" x="372" y="-44.6667" font-family="Arial" font-size="10.00">score_history_id </text>
<text text-anchor="start" x="447" y="-44.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
</g>
<!-- m_ScoreHistory&#45;&gt;m_ScoreHistoryExt -->
<g id="edge6" class="edge"><title>m_ScoreHistory&#45;&gt;m_ScoreHistoryExt</title>
<path fill="none" stroke="black" d="M332.55,-82C341.464,-82 350.554,-82 359.468,-82"/>
<ellipse fill="none" stroke="black" cx="330.116" cy="-82" rx="2.4" ry="2.4"/>
<ellipse fill="black" stroke="black" cx="362" cy="-82" rx="2.4" ry="2.4"/>
</g>
<!-- m_ScoreRule -->
<g id="node5" class="node"><title>m_ScoreRule</title>
<polyline fill="none" stroke="black" points="12.5,-0.5 133.5,-0.5 "/>
<path fill="none" stroke="black" d="M133.5,-0.5C139.5,-0.5 145.5,-6.5 145.5,-12.5"/>
<polyline fill="none" stroke="black" points="145.5,-12.5 145.5,-151.5 "/>
<path fill="none" stroke="black" d="M145.5,-151.5C145.5,-157.5 139.5,-163.5 133.5,-163.5"/>
<polyline fill="none" stroke="black" points="133.5,-163.5 12.5,-163.5 "/>
<path fill="none" stroke="black" d="M12.5,-163.5C6.5,-163.5 0.5,-157.5 0.5,-151.5"/>
<polyline fill="none" stroke="black" points="0.5,-151.5 0.5,-12.5 "/>
<path fill="none" stroke="black" d="M0.5,-12.5C0.5,-6.5 6.5,-0.5 12.5,-0.5"/>
<text text-anchor="start" x="43" y="-150.433" font-family="Arial Bold" font-size="11.00">ScoreRule</text>
<polyline fill="none" stroke="black" points="0.5,-143.5 145.5,-143.5 "/>
<text text-anchor="start" x="8" y="-129.167" font-family="Arial" font-size="10.00">description </text>
<text text-anchor="start" x="59" y="-129.167" font-family="Arial Italic" font-size="10.00" fill="#999999">text</text>
<text text-anchor="start" x="8" y="-116.667" font-family="Arial" font-size="10.00">id </text>
<text text-anchor="start" x="19" y="-116.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="8" y="-104.667" font-family="Arial" font-size="10.00">max_score </text>
<text text-anchor="start" x="60" y="-104.667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="8" y="-92.6667" font-family="Arial" font-size="10.00">min_score </text>
<text text-anchor="start" x="57" y="-92.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="8" y="-80.6667" font-family="Arial" font-size="10.00">operation_name </text>
<text text-anchor="start" x="81" y="-80.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">string (50) ∗</text>
<text text-anchor="start" x="8" y="-68.6667" font-family="Arial" font-size="10.00">score </text>
<text text-anchor="start" x="36" y="-68.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer</text>
<text text-anchor="start" x="8" y="-56.6667" font-family="Arial" font-size="10.00">score_flag </text>
<text text-anchor="start" x="56" y="-56.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="8" y="-44.6667" font-family="Arial" font-size="10.00">status </text>
<text text-anchor="start" x="39" y="-44.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer (1) ∗</text>
<text text-anchor="start" x="8" y="-32.6667" font-family="Arial" font-size="10.00">user_id </text>
<text text-anchor="start" x="43" y="-32.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
<text text-anchor="start" x="8" y="-20.6667" font-family="Arial" font-size="10.00">user_name </text>
<text text-anchor="start" x="60" y="-20.6667" font-family="Arial Italic" font-size="10.00" fill="#999999">string (24) ∗</text>
<text text-anchor="start" x="8" y="-8.66667" font-family="Arial" font-size="10.00">website </text>
<text text-anchor="start" x="45" y="-8.66667" font-family="Arial Italic" font-size="10.00" fill="#999999">integer ∗</text>
</g>
<!-- m_ScoreRule&#45;&gt;m_ScoreHistory -->
<g id="edge8" class="edge"><title>m_ScoreRule&#45;&gt;m_ScoreHistory</title>
<path fill="none" stroke="black" d="M150.55,-82C157.483,-82 164.523,-82 171.503,-82"/>
<ellipse fill="none" stroke="black" cx="148.116" cy="-82" rx="2.4" ry="2.4"/>
<ellipse fill="none" stroke="black" cx="180" cy="-82" rx="2.4" ry="2.4"/>
<polygon fill="black" stroke="black" points="171.6,-84.1001 177.6,-82 171.6,-79.9001 171.6,-84.1001"/>
</g>
</g>
</svg>
